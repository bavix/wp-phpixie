{"version":3,"sources":["edit.jsx"],"names":["SocialRows","props","state","rows","model","id","socialId","url","columns","map","row","React","Component","$","socialRows","document","getElementById","$formSocial","socialJson","submit","event","preventDefault","form","FormData","fetch","attr","method","credentials","body","then","response","status","json","error","Error","statusText","push","ReactDOM","render","catch"],"mappings":";;;;;;;;;;IAAMA,U;;;AAEF,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA,4HACTA,KADS;;AAEf,cAAKC,KAAL,GAAa;AACTC,kBAAMF,MAAME;AADH,SAAb;AAFe;AAKlB;;;;kCAES;AACN,mBAAO;AAAA;AAAA;AACH;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,qBADJ;AAEI;AAAA;AAAA;AAAA;AAAA,qBAFJ;AAGI;AAAA;AAAA;AAAA;AAAA,qBAHJ;AAII;AAAA;AAAA;AAAA;AAAA;AAJJ;AADG,aAAP;AAQH;;;4BAEGC,K,EAAO;AACP,mBAAO;AAAA;AAAA;AACH;AAAA;AAAA;AAAKA,0BAAMC;AAAX,iBADG;AAEH;AAAA;AAAA;AAAKD,0BAAME;AAAX,iBAFG;AAGH;AAAA;AAAA;AAAKF,0BAAMG;AAAX,iBAHG;AAIH;AAJG,aAAP;AAMH;;;iCAEQ;AACL,mBAAO;AAAA;AAAA,kBAAO,WAAU,qBAAjB;AACF,qBAAKC,OAAL,EADE;AAEH;AAAA;AAAA;AACCP,0BAAME,IAAN,CAAWM,GAAX,CAAe,KAAKC,GAApB;AADD;AAFG,aAAP;AAMH;;;;EApCoBC,MAAMC,S;;AAuC/BC,EAAE,YAAY;;AAEV,QAAMC,aAAaC,SAASC,cAAT,CAAwB,YAAxB,CAAnB;AACA,QAAIC,cAAcJ,EAAE,yBAAF,CAAlB;AACA,QAAIK,aAAa,EAAjB;;AAEAD,gBAAYE,MAAZ,CAAmB,UAAUC,KAAV,EAAiB;;AAEhCA,cAAMC,cAAN;;AAEA,YAAIC,OAAO,IAAIC,QAAJ,CAAa,IAAb,CAAX;;AAEAC,cAAMP,YAAYQ,IAAZ,CAAiB,QAAjB,CAAN,EAAkC;AAC9BC,oBAAQT,YAAYQ,IAAZ,CAAiB,QAAjB,CADsB;AAE9BE,yBAAa,SAFiB;AAG9BC,kBAAMN;AAHwB,SAAlC,EAIGO,IAJH,CAIQ,UAAUC,QAAV,EAAoB;;AAExB,gBAAIA,SAASC,MAAT,KAAoB,GAApB,IAA2BD,SAASC,MAAT,KAAoB,GAAnD,EAAwD;AACpD,uBAAOD,SAASE,IAAT,EAAP;AACH;;AAED,gBAAIC,QAAQ,IAAIC,KAAJ,CAAUJ,SAASK,UAAnB,CAAZ;AACAF,kBAAMH,QAAN,GAAiBA,QAAjB;AACA,kBAAMG,KAAN;AAEH,SAdD,EAcGJ,IAdH,CAcQ,UAAUG,IAAV,EAAgB;;AAEpBd,uBAAWkB,IAAX,CAAgBJ,IAAhB;;AAEAK,qBAASC,MAAT,CACI,oBAAC,UAAD,IAAY,MAAMpB,UAAlB,GADJ,EAEIJ,UAFJ;AAKH,SAvBD,EAuBGyB,KAvBH,CAuBS,UAAUN,KAAV,EAAiB;AACtB;AACH,SAzBD;AA2BH,KAjCD;;AAmCAT,UAAMP,YAAYQ,IAAZ,CAAiB,QAAjB,CAAN,EAAkC;AAC9BC,gBAAQ,KADsB;AAE9BC,qBAAa;AAFiB,KAAlC,EAGGE,IAHH,CAGQ,UAAUC,QAAV,EAAoB;;AAExB,YAAIA,SAASC,MAAT,KAAoB,GAApB,IAA2BD,SAASC,MAAT,KAAoB,GAAnD,EAAwD;AACpD,mBAAOD,SAASE,IAAT,EAAP;AACH;;AAED,YAAIC,QAAQ,IAAIC,KAAJ,CAAUJ,SAASK,UAAnB,CAAZ;AACAF,cAAMH,QAAN,GAAiBA,QAAjB;AACA,cAAMG,KAAN;AAEH,KAbD,EAaGJ,IAbH,CAaQ,UAAUG,IAAV,EAAgB;;AAEpBd,qBAAac,IAAb;;AAEAK,iBAASC,MAAT,CACI,oBAAC,UAAD,IAAY,MAAMpB,UAAlB,GADJ,EAEIJ,UAFJ;AAKH,KAtBD,EAsBGyB,KAtBH,CAsBS,UAAUN,KAAV,EAAiB;AACtB;AACH,KAxBD;AA0BH,CAnED","file":"edit.js","sourcesContent":["class SocialRows extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            rows: props.rows\r\n        };\r\n    }\r\n\r\n    columns() {\r\n        return <thead>\r\n            <tr>\r\n                <th>ID</th>\r\n                <th>Type</th>\r\n                <th>URL</th>\r\n                <th>Actions</th>\r\n            </tr>\r\n        </thead>;\r\n    }\r\n\r\n    row(model) {\r\n        return <tr>\r\n            <td>{model.id}</td>\r\n            <td>{model.socialId}</td>\r\n            <td>{model.url}</td>\r\n            <td></td>\r\n        </tr>;\r\n    }\r\n\r\n    render() {\r\n        return <table className=\"table table-striped\">\r\n            {this.columns()}\r\n            <tbody>\r\n            {props.rows.map(this.row)}\r\n            </tbody>\r\n        </table>;\r\n    }\r\n}\r\n\r\n$(function () {\r\n\r\n    const socialRows = document.getElementById('socialRows');\r\n    let $formSocial = $('[data-created=\"social\"]');\r\n    let socialJson = [];\r\n\r\n    $formSocial.submit(function (event) {\r\n\r\n        event.preventDefault();\r\n\r\n        let form = new FormData(this);\r\n\r\n        fetch($formSocial.attr('action'), {\r\n            method: $formSocial.attr('method'),\r\n            credentials: 'include',\r\n            body: form\r\n        }).then(function (response) {\r\n\r\n            if (response.status === 201 || response.status === 200) {\r\n                return response.json();\r\n            }\r\n\r\n            let error = new Error(response.statusText);\r\n            error.response = response;\r\n            throw error;\r\n\r\n        }).then(function (json) {\r\n\r\n            socialJson.push(json);\r\n\r\n            ReactDOM.render(\r\n                <SocialRows rows={socialJson} />,\r\n                socialRows\r\n            );\r\n\r\n        }).catch(function (error) {\r\n            // todo\r\n        });\r\n\r\n    });\r\n\r\n    fetch($formSocial.attr('action'), {\r\n        method: 'GET',\r\n        credentials: 'include'\r\n    }).then(function (response) {\r\n\r\n        if (response.status === 201 || response.status === 200) {\r\n            return response.json();\r\n        }\r\n\r\n        let error = new Error(response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n\r\n    }).then(function (json) {\r\n\r\n        socialJson = json;\r\n\r\n        ReactDOM.render(\r\n            <SocialRows rows={socialJson} />,\r\n            socialRows\r\n        );\r\n\r\n    }).catch(function (error) {\r\n        // todo\r\n    });\r\n\r\n});"]}