{"version":3,"sources":["edit.jsx"],"names":["response","status","json","error","Error","statusText","ButtonDelete","props","methodDelete","bind","event","node","target","parentNode","tagName","swal","title","text","type","showCancelButton","confirmButtonText","cancelButtonText","confirmButtonClass","cancelButtonClass","then","fetch","api","method","credentials","$","remove","catch","React","Component","SocialRows","state","data","rows","model","socialName","socialId","id","url","brandId","map","row","columns","HeadingRows","parentId","DealerRows","name","select2","theme","ajax","dataType","delay","params","queries","term","page","processResults","message","results","obj","cache","socialRows","document","getElementById","$formSocial","headingRows","$formHeading","dealerRows","$formDealer","socialJson","headingJson","dealerJson","tableInit","push","ReactDOM","render","tableHeadingInit","headingId","createdAt","updatedAt","tableDealerInit","dealerId","submit","preventDefault","ids","find","val","i","hasOwnProperty","form","FormData","append","attr","body","undefined"],"mappings":"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","file":"edit.js","sourcesContent":["function response(response) {\r\n    if (response.status === 201 || response.status === 200) {\r\n        return response.json();\r\n    }\r\n\r\n    let error = new Error(response.statusText);\r\n    error.response = response;\r\n    throw error;\r\n}\r\n\r\nclass ButtonDelete extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.methodDelete = this.methodDelete.bind(this);\r\n    }\r\n\r\n    methodDelete(event) {\r\n\r\n        let node = event.target.parentNode.parentNode;\r\n\r\n        if (node.tagName != 'TR') {\r\n            node = node.parentNode\r\n        }\r\n\r\n        swal({\r\n            title: 'Are you sure?',\r\n            text: \"You won't be able to revert this!\",\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Yes, delete it!',\r\n            cancelButtonText: 'No, cancel!',\r\n            confirmButtonClass: 'btn btn-danger',\r\n            cancelButtonClass: 'btn btn-primary'\r\n        }).then(() => {\r\n\r\n            fetch(this.props.api, {\r\n                method: 'DELETE',\r\n                credentials: 'include'\r\n            }).then(response).then(json => {\r\n\r\n                $(node).remove();\r\n                swal(\r\n                    'Deleted!',\r\n                    'Your data has been deleted.',\r\n                    'success'\r\n                );\r\n\r\n            }).catch(function () {\r\n                swal(\r\n                    'Deleted!',\r\n                    'Your data has not been deleted.',\r\n                    'error'\r\n                );\r\n            });\r\n\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n        return <a onClick={ this.methodDelete } className=\"btn btn-danger\">\r\n            <i className=\"fa fa-trash\"> </i> Delete\r\n        </a>\r\n    }\r\n}\r\n\r\nclass SocialRows extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: props.rows\r\n        };\r\n    }\r\n\r\n    columns() {\r\n        return <thead>\r\n        <tr>\r\n            <th>ID</th>\r\n            <th>Type</th>\r\n            <th>URL</th>\r\n            <th>Actions</th>\r\n        </tr>\r\n        </thead>;\r\n    }\r\n\r\n    row(model) {\r\n        const socialName = $('#socialType [value=\"' + model.socialId + '\"]').text();\r\n        return <tr key={model.id}>\r\n            <td>{model.id}</td>\r\n            <td>{socialName}</td>\r\n            <td><a href={model.url} title={socialName} target=\"__blank\">{model.url}</a></td>\r\n            <td>\r\n                <ButtonDelete key={model.id} api={'/api/soc/brand/' + model.brandId + '/social/' + model.socialId}/>\r\n            </td>\r\n        </tr>;\r\n    }\r\n\r\n    render() {\r\n\r\n        const rows = this.props.rows.map(this.row);\r\n\r\n        return <table className=\"table table-striped\">\r\n            {this.columns()}\r\n            <tbody>\r\n            { rows }\r\n            </tbody>\r\n        </table>;\r\n    }\r\n}\r\n\r\nclass HeadingRows extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    columns() {\r\n        return <thead>\r\n        <tr>\r\n            <th>ID</th>\r\n            <th>Parent ID</th>\r\n            <th>Title</th>\r\n            <th>Actions</th>\r\n        </tr>\r\n        </thead>;\r\n    }\r\n\r\n    row(model) {\r\n        return <tr key={model.id}>\r\n            <td>{model.id}</td>\r\n            <td>{model.parentId}</td>\r\n            <td>{model.title}</td>\r\n            <td>\r\n                <ButtonDelete key={model.id} api={'/api/soc/brand/' + model.brandId + '/heading/' + model.id}/>\r\n            </td>\r\n        </tr>;\r\n    }\r\n\r\n    render() {\r\n\r\n        const rows = this.props.rows.map(this.row);\r\n\r\n        return <table className=\"table table-striped\">\r\n            {this.columns()}\r\n            <tbody>\r\n            { rows }\r\n            </tbody>\r\n        </table>;\r\n    }\r\n}\r\n\r\nclass DealerRows extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    columns() {\r\n        return <thead>\r\n        <tr>\r\n            <th>ID</th>\r\n            <th>Parent ID</th>\r\n            <th>Name</th>\r\n            <th>Actions</th>\r\n        </tr>\r\n        </thead>;\r\n    }\r\n\r\n    row(model) {\r\n        return <tr key={model.id}>\r\n            <td>{model.id}</td>\r\n            <td>{model.parentId}</td>\r\n            <td>{model.name}</td>\r\n            <td>\r\n                <ButtonDelete key={model.id} api={'/api/soc/brand/' + model.brandId + '/dealer/' + model.id}/>\r\n            </td>\r\n        </tr>;\r\n    }\r\n\r\n    render() {\r\n\r\n        const rows = this.props.rows.map(this.row);\r\n\r\n        return <table className=\"table table-striped\">\r\n            {this.columns()}\r\n            <tbody>\r\n            { rows }\r\n            </tbody>\r\n        </table>;\r\n    }\r\n}\r\n\r\n$(function () {\r\n\r\n    // heading\r\n\r\n    $('#headingType').select2({\r\n        theme: \"bootstrap\",\r\n        ajax: {\r\n            url: '/api/soc/heading?limit=15',\r\n            dataType: 'json',\r\n            delay: 350,\r\n            data: function (params) {\r\n                return {\r\n                    queries: {\r\n                        title: params.term\r\n                    },\r\n                    page: params.page || 1\r\n                }\r\n            },\r\n            processResults: function (data) {\r\n                if (typeof data.message !== \"undefined\") {\r\n                    return {\r\n                        results: {}\r\n                    };\r\n                }\r\n\r\n                return {\r\n                    results: $.map(data, function (obj) {\r\n                        return {id: obj.id, text: obj.title};\r\n                    })\r\n                };\r\n            },\r\n            cache: true\r\n        }\r\n    });\r\n\r\n    $('#dealerType').select2({\r\n        theme: \"bootstrap\",\r\n        ajax: {\r\n            url: '/api/soc/dealer?limit=15',\r\n            dataType: 'json',\r\n            delay: 350,\r\n            data: function (params) {\r\n                return {\r\n                    queries: {\r\n                        name: params.term\r\n                    },\r\n                    page: params.page || 1\r\n                }\r\n            },\r\n            processResults: function (data) {\r\n                if (typeof data.message !== \"undefined\") {\r\n                    return {\r\n                        results: {}\r\n                    };\r\n                }\r\n\r\n                return {\r\n                    results: $.map(data, function (obj) {\r\n                        return {id: obj.id, text: obj.name};\r\n                    })\r\n                };\r\n            },\r\n            cache: true\r\n        }\r\n    });\r\n\r\n    /// social\r\n    const socialRows = document.getElementById('socialRows');\r\n    let $formSocial = $('[data-created=\"social\"]');\r\n\r\n    // heading\r\n    const headingRows = document.getElementById('headingRows');\r\n    let $formHeading = $('[data-created=\"heading\"]');\r\n\r\n    // dealer\r\n    const dealerRows = document.getElementById('dealerRows');\r\n    let $formDealer = $('[data-created=\"dealer\"]');\r\n\r\n    let socialJson = [];\r\n    let headingJson = [];\r\n    let dealerJson = [];\r\n\r\n    function tableInit(json) {\r\n        if (typeof json.id === \"undefined\") {\r\n            socialJson = json;\r\n        }\r\n        else {\r\n            socialJson.push(json)\r\n        }\r\n\r\n        ReactDOM.render(\r\n            <SocialRows rows={socialJson}/>,\r\n            socialRows\r\n        );\r\n    }\r\n\r\n    function tableHeadingInit(json) {\r\n        if (typeof json.id === \"undefined\") {\r\n\r\n            json = json.map(data => {\r\n                data.brandId = $formHeading.data('id');\r\n\r\n                return data;\r\n            });\r\n\r\n            headingJson = json;\r\n\r\n            ReactDOM.render(\r\n                <HeadingRows rows={headingJson}/>,\r\n                headingRows\r\n            );\r\n        }\r\n        else {\r\n            fetch('/api/soc/heading/' + json.headingId, {\r\n                method: 'GET',\r\n                credentials: 'include'\r\n            }).then(response).then(data => {\r\n                headingJson.push({\r\n                    id: json.headingId,\r\n                    parentId: data.parentId,\r\n                    brandId: json.brandId,\r\n                    title: data.title,\r\n                    createdAt: data.createdAt,\r\n                    updatedAt: data.updatedAt\r\n                });\r\n\r\n                ReactDOM.render(\r\n                    <HeadingRows rows={headingJson}/>,\r\n                    headingRows\r\n                );\r\n            });\r\n        }\r\n    }\r\n\r\n    function tableDealerInit(json) {\r\n        if (typeof json.id === \"undefined\") {\r\n\r\n            json = json.map(data => {\r\n                data.brandId = $formDealer.data('id');\r\n\r\n                return data;\r\n            });\r\n\r\n            dealerJson = json;\r\n\r\n            ReactDOM.render(\r\n                <DealerRows rows={dealerJson}/>,\r\n                dealerRows\r\n            );\r\n        }\r\n        else {\r\n            fetch('/api/soc/dealer/' + json.dealerId, {\r\n                method: 'GET',\r\n                credentials: 'include'\r\n            }).then(response).then(data => {\r\n                dealerJson.push({\r\n                    id: json.dealerId,\r\n                    parentId: data.parentId,\r\n                    brandId: json.brandId,\r\n                    name: data.name,\r\n                    createdAt: data.createdAt,\r\n                    updatedAt: data.updatedAt\r\n                });\r\n\r\n                ReactDOM.render(\r\n                    <DealerRows rows={dealerJson}/>,\r\n                    dealerRows\r\n                );\r\n            });\r\n        }\r\n    }\r\n\r\n    $formHeading.submit(function (event) {\r\n\r\n        event.preventDefault();\r\n\r\n        let ids = $(this).find('select').val();\r\n\r\n        for (let i in  ids) {\r\n\r\n            if (!ids.hasOwnProperty(i)) continue;\r\n\r\n            let form = new FormData();\r\n            form.append(\"id\", ids[i]);\r\n\r\n            fetch($formHeading.attr('action'), {\r\n                method: $formHeading.attr('method'),\r\n                credentials: 'include',\r\n                body: form\r\n            }).then(response).then(tableHeadingInit).catch(() => undefined);\r\n        }\r\n\r\n    });\r\n\r\n    $formDealer.submit(function (event) {\r\n\r\n        event.preventDefault();\r\n\r\n        let ids = $(this).find('select').val();\r\n\r\n        for (let i in  ids) {\r\n\r\n            if (!ids.hasOwnProperty(i)) continue;\r\n\r\n            let form = new FormData();\r\n            form.append(\"id\", ids[i]);\r\n\r\n            fetch($formDealer.attr('action'), {\r\n                method: $formDealer.attr('method'),\r\n                credentials: 'include',\r\n                body: form\r\n            }).then(response).then(tableDealerInit).catch(() => undefined);\r\n\r\n        }\r\n\r\n    });\r\n\r\n    $formSocial.submit(function (event) {\r\n\r\n        event.preventDefault();\r\n\r\n        let form = new FormData(this);\r\n\r\n        fetch($formSocial.attr('action'), {\r\n            method: $formSocial.attr('method'),\r\n            credentials: 'include',\r\n            body: form\r\n        }).then(response).then(tableInit).catch(() => undefined);\r\n\r\n    });\r\n\r\n    fetch($formSocial.attr('action'), {\r\n        method: 'GET',\r\n        credentials: 'include'\r\n    }).then(response).then(tableInit).catch(() => undefined);\r\n\r\n    fetch('/api/soc/heading?terms[brands.id]=' + $formHeading.data('id'), {\r\n        method: 'GET',\r\n        credentials: 'include'\r\n    }).then(response).then(tableHeadingInit).catch(() => undefined);\r\n\r\n    fetch('/api/soc/dealer?terms[brands.id]=' + $formDealer.data('id'), {\r\n        method: 'GET',\r\n        credentials: 'include'\r\n    }).then(response).then(tableDealerInit).catch(() => undefined);\r\n\r\n});"]}