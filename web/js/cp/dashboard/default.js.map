{"version":3,"sources":["default.jsx"],"names":["IBoxBlock","props","first","last","data","count","active","title","id","React","Component","initChart","Chart","document","getElementById","getContext","type","labels","datasets","backgroundColor","$","blocks","brand","dealer","heading","invite","wheel","style","boltPattern","collection","user","app","model","fetch","method","credentials","then","r","json","res","render","content","ReactDOM"],"mappings":"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","file":"default.js","sourcesContent":["class IBoxBlock extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n\n        let first = <span className=\"label label-primary pull-right\">loading..</span>;\n        let last;\n\n        if (typeof this.props.data.count !== \"undefined\") {\n            first = <span className=\"label label-primary pull-right\">{ this.props.data.count }</span>;\n\n            if (this.props.data.active !== this.props.data.count) {\n                last = <span className=\"label label-danger pull-right\">{ this.props.data.active }</span>;\n            }\n        }\n\n        return <div className=\"col-sm-6 col-xs-4 col-md-4 col-lg-3\">\n            <div className=\"ibox-title\">\n                { first } { last }\n                <h5>{ this.props.data.title }</h5>\n            </div>\n            <div className=\"ibox-content\">\n                <canvas id={\"chart-\" + this.props.data.id} width=\"100%\"> Loading ...</canvas>\n            </div>\n        </div>\n    }\n\n}\n\nfunction initChart(data) {\n    new Chart(document.getElementById(\"chart-\" + data.id).getContext('2d'), {\n        type: 'pie',\n        data: {\n            labels: [\"Active\", \"No Active\"],\n            datasets: [{\n                backgroundColor: data.backgroundColor,\n                data: data.data\n            }]\n        }\n    });\n}\n\n$(function () {\n\n    let blocks = {\n        brand: {\n            id: 'brand',\n            title: 'Brand',\n            backgroundColor: ['#e74c3c']\n        },\n\n        dealer: {\n            id: 'dealer',\n            title: 'Dealer',\n            backgroundColor: ['#4BC0C0']\n        },\n\n        heading: {\n            id: 'heading',\n            title: 'Heading',\n            backgroundColor: ['#36A2EB']\n        },\n\n        invite: {\n            id: 'invite',\n            title: 'Invite',\n            backgroundColor: ['#c2c4d1']\n        },\n\n        wheel: {\n            id: 'wheel',\n            title: 'Wheel',\n            backgroundColor: ['#ffe6ab']\n        },\n\n        style: {\n            id: 'style',\n            title: 'Style [Wheels]',\n            backgroundColor: ['#36A2EB']\n        },\n\n        boltPattern: {\n            id: 'boltPattern',\n            title: 'Bolt Pattern [Wheels]',\n            backgroundColor: ['#c2c4d1']\n        },\n\n        collection: {\n            id: 'collection',\n            title: 'Collection [Wheels]',\n            backgroundColor: ['#4BC0C0']\n        },\n\n        user: {\n            id: 'user',\n            title: 'User',\n            backgroundColor: ['#ffe6ab']\n        },\n\n        app: {\n            id: 'app',\n            title: 'Application',\n            backgroundColor: ['#FF6384']\n        }\n    };\n\n    for (let model in blocks) {\n        fetch('/cp/dashboard/count?model=' + model, {\n            method: 'GET',\n            credentials: 'include'\n        }).then(r => r.json()).then(res => {\n            blocks[blocks[model].id].count = res.count;\n            blocks[blocks[model].id].active = res.active;\n            blocks[blocks[model].id].data = [res.active, res.count - res.active];\n            render(blocks[blocks[model].id]);\n        });\n    }\n\n    function render(data) {\n        let content = document.getElementById('content');\n\n        ReactDOM.render(\n            <div className=\"col-lg-12\">\n                <IBoxBlock data={ blocks.brand }/>\n                <IBoxBlock data={ blocks.dealer }/>\n                <IBoxBlock data={ blocks.heading }/>\n                <IBoxBlock data={ blocks.invite }/>\n\n                <IBoxBlock data={ blocks.wheel }/>\n                <IBoxBlock data={ blocks.style }/>\n                <IBoxBlock data={ blocks.boltPattern }/>\n                <IBoxBlock data={ blocks.collection }/>\n\n                <IBoxBlock data={ blocks.user }/>\n                <IBoxBlock data={ blocks.app }/>\n            </div>,\n            content\n        );\n\n        initChart(data);\n    }\n\n});"]}